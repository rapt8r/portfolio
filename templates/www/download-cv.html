{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dominik Ciupa - Junior Django Developer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="{% static 'www/css/bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'www/css/styles.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
</head>
<body>
<!--Hero section -->
<div class="container vh-100">
    <div class="row h-100 align-items-center">
        <div class="col-md-6 text-center text-md-start">
            <i id="heart-icon" class="fst-normal display-1 d-inline-flex py-2">❤</i>
            <h1 class="display-4 fw-bold lh-1 mb-3">Dziękuję</h1>
            <p id="description" class="fs-4">za czas poświęcony na analizowanie mojego CV, którego pobieranie właśnie się rozpoczęło</p>
            <a href="{% url 'index-page' %}"><button type="button" class="btn btn-primary btn-lg mb-3 mb-md-0">Wróć na stronę główną</button></a>
        </div>
        <div class="col-md-4 mx-auto">
            <img src="{% static 'www/svg/cv-ilustration.svg' %}" class="img-fluid ">
        </div>
    </div>
    <div id="download-status" class="alert alert-success position-fixed bottom-0 start-0 m-5 fs-6"></div>
</div>
<!-- Including Bootstrap JS (with its jQuery dependency) so that dynamic components work -->
<script src="https://code.jquery.com/jquery-1.12.4.min.js"
        integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="{% static 'www/js/bootstrap.min.js' %}"></script>
<script src="{% static 'www/js/js-file-downloader.js' %}"></script>
</body>
<script>
    const DEBUG = false;
    description = document.getElementById('description')
    if (!DEBUG) {
        //Get the download status element
        download_status = document.getElementById('download-status')

        //Update download status %
        function process(event) {
            if (!event.lengthComputable) return; // guard
            let downloadingPercentage = Math.floor(event.loaded / event.total * 100);
            download_status.innerHTML = "Trwa pobieranie " + downloadingPercentage + "%"

        };
        //Download the CV file
        new jsFileDownloader({
            url: '{% static 'www/cv/CV-Dominik Ciupa.pdf' %}',
            autoStart: true,
            process: process
        }).then(function () {
                //Show download complete status and hide element
                download_status.innerHTML = 'CV zostało pobrane! <i class="bi bi-check-lg"></i>'
                description.innerHTML = 'za czas poświęcony na analizowanie mojego CV, którego pobieranie się skończyło'
                setTimeout(() => {
                    download_status.classList.add('download-status-invisible');
                }, 5000);
            }
        )
    }


</script>
</html>